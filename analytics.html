<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics - Agricultural Credit System</title>
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/improved-styles.css">
    <link rel="stylesheet" href="css/toast.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="logo-container">
                    <img src="img/logo.svg" alt="AgriFinance Logo">
                    <span class="logo-text">AgriFinance</span>
                </div>
                <button class="sidebar-toggle">
                    <span class="material-icons">menu</span>
                </button>
            </div>
            
            <div class="user-info">
                <div class="avatar">RS</div>
                <div class="user-details">
                    <h3>Rajesh Sharma</h3>
                    <p>Rural Bank Officer</p>
                </div>
            </div>
            
            <ul class="nav-links">
                <li>
                    <a href="dashboard.html">
                        <span class="material-icons">dashboard</span>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li>
                    <a href="evaluate-farmer.html">
                        <span class="material-icons">assessment</span>
                        <span>Evaluate Farmer</span>
                    </a>
                </li>
                <li>
                    <a href="applications.html">
                        <span class="material-icons">description</span>
                        <span>Applications</span>
                    </a>
                </li>
                <li class="active">
                    <a href="analytics.html">
                        <span class="material-icons">insights</span>
                        <span>Analytics</span>
                    </a>
                </li>
                <li>
                    <a href="settings.html">
                        <span class="material-icons">settings</span>
                        <span>Settings</span>
                    </a>
                </li>
            </ul>
            
            <div class="sidebar-footer">
                <a href="#" class="logout">
                    <span class="material-icons">exit_to_app</span>
                    <span>Logout</span>
                </a>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="main-content">
            <div class="top-bar">
                <div class="search-container">
                    <span class="material-icons">search</span>
                    <input type="text" placeholder="Search..." id="searchInput">
                </div>
                
                <div class="top-bar-right">
                    <div class="weather-widget" data-tooltip="Local weather conditions">
                        <span class="material-icons">wb_sunny</span>
                        <span class="temperature">32°C</span>
                    </div>
                    
                    <div class="notification-container">
                        <button class="notification-bell" data-tooltip="Notifications">
                            <span class="material-icons">notifications</span>
                            <span class="notification-badge">3</span>
                        </button>
                        
                        <div class="notification-dropdown">
                            <div class="notification-header">
                                <h3>Notifications</h3>
                                <button class="mark-all-read">Mark all as read</button>
                            </div>
                            <div class="notification-list">
                                <div class="notification-item unread">
                                    <div class="notification-icon">
                                        <span class="material-icons">bar_chart</span>
                                    </div>
                                    <div class="notification-content">
                                        <p class="notification-title">Monthly Report Ready</p>
                                        <p class="notification-text">August 2023 loan performance report is available</p>
                                        <p class="notification-time">Just now</p>
                                    </div>
                                </div>
                                <div class="notification-item unread">
                                    <div class="notification-icon">
                                        <span class="material-icons">trending_up</span>
                                    </div>
                                    <div class="notification-content">
                                        <p class="notification-title">Performance Milestone</p>
                                        <p class="notification-text">Your district has reached 95% repayment rate</p>
                                        <p class="notification-time">3 hours ago</p>
                                    </div>
                                </div>
                                <div class="notification-item">
                                    <div class="notification-icon">
                                        <span class="material-icons">warning</span>
                                    </div>
                                    <div class="notification-content">
                                        <p class="notification-title">Risk Alert</p>
                                        <p class="notification-text">Increase in default rates in Eastern Region</p>
                                        <p class="notification-time">Yesterday</p>
                                    </div>
                                </div>
                            </div>
                            <div class="notification-footer">
                                <a href="#">View all notifications</a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="user-dropdown-container">
                        <button class="user-dropdown-toggle">
                            <div class="avatar">RS</div>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="content-wrapper">
                <div class="page-header">
                    <h1>Analytics Dashboard</h1>
                    <div class="header-actions">
                        <div class="date-range-picker">
                            <select id="dateRangeSelect">
                                <option value="last-30-days">Last 30 Days</option>
                                <option value="last-90-days">Last 90 Days</option>
                                <option value="last-6-months">Last 6 Months</option>
                                <option value="last-year">Last Year</option>
                                <option value="custom">Custom Range</option>
                            </select>
                        </div>
                        <button class="btn btn-secondary" id="exportReportBtn" data-tooltip="Export to PDF">
                            <span class="material-icons">download</span>
                            Export Report
                        </button>
                    </div>
                </div>
                
                <!-- Performance Metrics -->
                <div class="metrics-grid">
                    <div class="card metric-card">
                        <div class="card-body">
                            <div class="metric-icon success">
                                <span class="material-icons">trending_up</span>
                            </div>
                            <div class="metric-content">
                                <p class="metric-label">Approval Rate</p>
                                <h2 class="metric-value">78.5%</h2>
                                <p class="metric-trend positive">
                                    <span class="material-icons">arrow_upward</span>
                                    <span>4.2% vs last period</span>
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card metric-card">
                        <div class="card-body">
                            <div class="metric-icon info">
                                <span class="material-icons">payments</span>
                            </div>
                            <div class="metric-content">
                                <p class="metric-label">Average Loan Amount</p>
                                <h2 class="metric-value">₹1,85,000</h2>
                                <p class="metric-trend positive">
                                    <span class="material-icons">arrow_upward</span>
                                    <span>12.3% vs last period</span>
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card metric-card">
                        <div class="card-body">
                            <div class="metric-icon warning">
                                <span class="material-icons">schedule</span>
                            </div>
                            <div class="metric-content">
                                <p class="metric-label">Processing Time</p>
                                <h2 class="metric-value">3.2 days</h2>
                                <p class="metric-trend negative">
                                    <span class="material-icons">arrow_downward</span>
                                    <span>0.5 days vs last period</span>
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card metric-card">
                        <div class="card-body">
                            <div class="metric-icon danger">
                                <span class="material-icons">report_problem</span>
                            </div>
                            <div class="metric-content">
                                <p class="metric-label">Default Rate</p>
                                <h2 class="metric-value">4.8%</h2>
                                <p class="metric-trend negative">
                                    <span class="material-icons">arrow_upward</span>
                                    <span>0.3% vs last period</span>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Charts Section -->
                <div class="analytics-grid">
                    <div class="card chart-card">
                        <div class="card-header">
                            <h3>Loan Applications Trend</h3>
                            <div class="card-actions">
                                <button class="btn btn-sm btn-secondary">
                                    <span class="material-icons">filter_list</span>
                                    Filter
                                </button>
                            </div>
                        </div>
                        <div class="card-body">
                            <canvas id="applicationsTrendChart" height="300"></canvas>
                        </div>
                    </div>
                    
                    <div class="card chart-card">
                        <div class="card-header">
                            <h3>Loan Distribution by Purpose</h3>
                            <div class="card-actions">
                                <button class="btn btn-sm btn-secondary">
                                    <span class="material-icons">filter_list</span>
                                    Filter
                                </button>
                            </div>
                        </div>
                        <div class="card-body">
                            <canvas id="loanDistributionChart" height="300"></canvas>
                        </div>
                    </div>
                    
                    <div class="card chart-card">
                        <div class="card-header">
                            <h3>Credit Score Distribution</h3>
                            <div class="card-actions">
                                <button class="btn btn-sm btn-secondary">
                                    <span class="material-icons">filter_list</span>
                                    Filter
                                </button>
                            </div>
                        </div>
                        <div class="card-body">
                            <canvas id="creditScoreChart" height="300"></canvas>
                        </div>
                    </div>
                    
                    <div class="card chart-card">
                        <div class="card-header">
                            <h3>Monthly Disbursement vs Repayment</h3>
                            <div class="card-actions">
                                <button class="btn btn-sm btn-secondary">
                                    <span class="material-icons">filter_list</span>
                                    Filter
                                </button>
                            </div>
                        </div>
                        <div class="card-body">
                            <canvas id="cashFlowChart" height="300"></canvas>
                        </div>
                    </div>
                </div>
                
                <!-- Regional Performance -->
                <div class="card">
                    <div class="card-header">
                        <h3>Regional Performance</h3>
                        <div class="card-actions">
                            <button class="btn btn-sm btn-secondary">
                                <span class="material-icons">map</span>
                                View Map
                            </button>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Region</th>
                                        <th>Loan Applications</th>
                                        <th>Approval Rate</th>
                                        <th>Default Rate</th>
                                        <th>Total Amount</th>
                                        <th>Performance</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Punjab</td>
                                        <td>245</td>
                                        <td>82.4%</td>
                                        <td>3.2%</td>
                                        <td>₹4.5 Cr</td>
                                        <td>
                                            <div class="progress-bar">
                                                <div class="progress-indicator" style="width: 86%;"></div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Haryana</td>
                                        <td>186</td>
                                        <td>79.8%</td>
                                        <td>4.1%</td>
                                        <td>₹3.8 Cr</td>
                                        <td>
                                            <div class="progress-bar">
                                                <div class="progress-indicator" style="width: 78%;"></div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Gujarat</td>
                                        <td>212</td>
                                        <td>77.5%</td>
                                        <td>5.2%</td>
                                        <td>₹4.2 Cr</td>
                                        <td>
                                            <div class="progress-bar">
                                                <div class="progress-indicator" style="width: 72%;"></div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Karnataka</td>
                                        <td>198</td>
                                        <td>81.2%</td>
                                        <td>3.8%</td>
                                        <td>₹3.2 Cr</td>
                                        <td>
                                            <div class="progress-bar">
                                                <div class="progress-indicator" style="width: 81%;"></div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Maharashtra</td>
                                        <td>267</td>
                                        <td>75.6%</td>
                                        <td>6.1%</td>
                                        <td>₹5.1 Cr</td>
                                        <td>
                                            <div class="progress-bar">
                                                <div class="progress-indicator" style="width: 68%;"></div>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="js/common.js"></script>
    <script src="js/analytics.js"></script>
</body>
</html> 